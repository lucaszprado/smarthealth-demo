<div class="container">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-9 mb-5">
      <!-- Back button -->
      <div data-controller='refresh-list'>
        <div class="FixedHeader pb-4">
          <%= link_to human_path(@human.id), class: "mb-2 mt-4 material-symbols-outlined text-decoration-none link-dark" do %>
            chevron_left
          <% end %>
          <h1 class="u-textSize--6 u-textFontWeight--bold mt-3 mb-3">Meus exames</h1>
          <!-- Search bar -->
              <div class="SearchBar u-child--w100">
                <%= form_with url: human_imaging_reports_path(@human), method: :get, html: { class: 'SearchBar-form', data: { refresh_list_target: 'form' } } do |f| %>
                  <div class="SearchBar-inputWrapper">
                    <%= f.text_field :query,
                                      class: "SearchBar-input",
                                      placeholder:'Parte corporal, exame ou laudo',
                                      value: params[:query],
                                      data: {
                                            refresh_list_target:'searchInput',
                                            action: "keyup->refresh-list#update" # Every keystroke triggers the keyup event. This calls the update() method in the refresh_list_controller.js
                                      }
                    %>
                    <span class="SearchBar-icon">
                      <i class="fa fa-search SearchBar-iconElement"></i>
                    </span>
                  </div>
                <% end %>
              </div>
        </div>
        <!-- Biomarkers list -->
        <%= render partial: render_imaging_reports_partial(@imaging_reports), locals: { imaging_reports: @imaging_reports, human: @human } %>
      </div>
    </div>
  </div>
</div>
